/*!
 * 
 *       astrochart2
 *       A JavaScript for generating Astrology charts.
 *       Version: 0.7.1
 *       Author: Tom Jurman (tomasjurman@kibo.cz)
 *       Licence: GNUv3 (https://www.gnu.org/licenses/gpl-3.0.en.html)
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.astrology=e():t.astrology=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{RadixChart:()=>Pt,SVGUtils:()=>J,TransitChart:()=>de,Universe:()=>ye,Utils:()=>tt});var i={};t.r(i),t.d(i,{CHART_FONT_FAMILY:()=>_,CHART_MAIN_STROKE:()=>l,CHART_PADDING:()=>h,CHART_STROKE:()=>O,CHART_STROKE_ONLY:()=>c,CHART_VIEWBOX_HEIGHT:()=>S,CHART_VIEWBOX_WIDTH:()=>u});var n={};t.r(n),t.d(n,{RADIX_AXIS_FONT_SIZE:()=>R,RADIX_ID:()=>C,RADIX_POINTS_FONT_SIZE:()=>d,RADIX_SIGNS_FONT_SIZE:()=>A});var s={};t.r(s),t.d(s,{TRANSIT_ID:()=>g,TRANSIT_POINTS_FONT_SIZE:()=>E});var r={};t.r(r),t.d(r,{POINT_COLLISION_RADIUS:()=>p,POINT_PROPERTIES_FONT_SIZE:()=>L,POINT_PROPERTIES_SHOW:()=>T});var a={};t.r(a),t.d(a,{ASPECT_COLORS:()=>X,CHART_BACKGROUND_COLOR:()=>I,CHART_CIRCLE_COLOR:()=>M,CHART_LINE_COLOR:()=>f,CHART_MAIN_AXIS_COLOR:()=>m,CHART_POINTS_COLOR:()=>B,CHART_SIGNS_COLOR:()=>N,CHART_TEXT_COLOR:()=>b,CIRCLE_COLOR:()=>F,COLOR_AQUARIUS:()=>k,COLOR_ARIES:()=>w,COLOR_CANCER:()=>V,COLOR_CAPRICORN:()=>H,COLOR_GEMINI:()=>G,COLOR_LEO:()=>y,COLOR_LIBRA:()=>v,COLOR_PISCES:()=>W,COLOR_SAGITTARIUS:()=>U,COLOR_SCORPIO:()=>x,COLOR_TAURUS:()=>D,COLOR_VIRGO:()=>P,POINT_PROPERTIES_COLOR:()=>Y});var o={};t.r(o),t.d(o,{ASPECTS_FONT_SIZE:()=>Q,ASPECTS_ID:()=>K,DEFAULT_ASPECTS:()=>Z,DRAW_ASPECTS:()=>j});const h=40,u=800,S=800,O=1,l=2,c=!1,_="Astronomicon",C="radix",d=27,A=27,R=32,g="transit",E=27,T=!0,L=16,p=12,I="#fff",M="#333",f="#666",b="#bbb",m="#000",N="#333",B="#000",Y="#333",w="#FF4500",D="#8B4513",G="#87CEEB",V="#27AE60",y="#FF4500",P="#8B4513",v="#87CEEB",x="#27AE60",U="#FF4500",H="#8B4513",k="#87CEEB",W="#27AE60",F="#333",X={Conjunction:"#333",Opposition:"#1B4F72",Square:"#641E16",Trine:"#0B5345",Sextile:"#333",Quincunx:"#333",Semisextile:"#333",Quintile:"#333",Trioctile:"#333"},K="aspects",j=!0,Q=18,Z=[{name:"Conjunction",angle:0,orb:2},{name:"Opposition",angle:180,orb:2},{name:"Trine",angle:120,orb:2},{name:"Square",angle:90,orb:2}],z=Object.assign({},i,n,s,r,a,o);function $(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class J{constructor(){if(this instanceof J)throw Error("This is a static class and cannot be instantiated.")}static SVGDocument(t,e){const i=document.createElementNS(J.SVG_NAMESPACE,"svg");return i.setAttribute("xmlns",J.SVG_NAMESPACE),i.setAttribute("version","1.1"),i.setAttribute("viewBox","0 0 "+t+" "+e),i}static SVGGroup(){return document.createElementNS(J.SVG_NAMESPACE,"g")}static SVGPath(){return document.createElementNS(J.SVG_NAMESPACE,"path")}static SVGMask(t){const e=document.createElementNS(J.SVG_NAMESPACE,"mask");return e.setAttribute("id",t),e}static SVGSegment(t,e,i,n,s,r,a,o){const h=a||0,u=o||0,S=document.createElementNS(J.SVG_NAMESPACE,"path");return S.setAttribute("d","M "+(t+r*Math.cos(n))+", "+(e+r*Math.sin(n))+" l "+(i-r)*Math.cos(n)+", "+(i-r)*Math.sin(n)+" A "+i+", "+i+",0 ,"+h+", "+u+", "+(t+i*Math.cos(s))+", "+(e+i*Math.sin(s))+" l "+(i-r)*-Math.cos(s)+", "+(i-r)*-Math.sin(s)+" A "+r+", "+r+",0 ,"+h+", 1, "+(t+r*Math.cos(n))+", "+(e+r*Math.sin(n))),S.setAttribute("fill","none"),S}static SVGCircle(t,e,i){const n=document.createElementNS(J.SVG_NAMESPACE,"circle");return n.setAttribute("cx",t),n.setAttribute("cy",e),n.setAttribute("r",i),n.setAttribute("fill","none"),n}static SVGLine(t,e,i,n){const s=document.createElementNS(J.SVG_NAMESPACE,"line");return s.setAttribute("x1",t),s.setAttribute("y1",e),s.setAttribute("x2",i),s.setAttribute("y2",n),s}static SVGText(t,e,i){const n=document.createElementNS(J.SVG_NAMESPACE,"text");return n.setAttribute("x",t),n.setAttribute("y",e),n.setAttribute("stroke","none"),n.appendChild(document.createTextNode(i)),n}static SVGSymbol(t,e,i){switch(t){case J.SYMBOL_AS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_AS_CODE)}(e,i);case J.SYMBOL_DS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_DS_CODE)}(e,i);case J.SYMBOL_MC:return function(t,e){return J.SVGText(t,e,J.SYMBOL_MC_CODE)}(e,i);case J.SYMBOL_IC:return function(t,e){return J.SVGText(t,e,J.SYMBOL_IC_CODE)}(e,i);case J.SYMBOL_ARIES:return function(t,e){return J.SVGText(t,e,J.SYMBOL_ARIES_CODE)}(e,i);case J.SYMBOL_TAURUS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_TAURUS_CODE)}(e,i);case J.SYMBOL_GEMINI:return function(t,e){return J.SVGText(t,e,J.SYMBOL_GEMINI_CODE)}(e,i);case J.SYMBOL_CANCER:return function(t,e){return J.SVGText(t,e,J.SYMBOL_CANCER_CODE)}(e,i);case J.SYMBOL_LEO:return function(t,e){return J.SVGText(t,e,J.SYMBOL_LEO_CODE)}(e,i);case J.SYMBOL_VIRGO:return function(t,e){return J.SVGText(t,e,J.SYMBOL_VIRGO_CODE)}(e,i);case J.SYMBOL_LIBRA:return function(t,e){return J.SVGText(t,e,J.SYMBOL_LIBRA_CODE)}(e,i);case J.SYMBOL_SCORPIO:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SCORPIO_CODE)}(e,i);case J.SYMBOL_SAGITTARIUS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SAGITTARIUS_CODE)}(e,i);case J.SYMBOL_CAPRICORN:return function(t,e){return J.SVGText(t,e,J.SYMBOL_CAPRICORN_CODE)}(e,i);case J.SYMBOL_AQUARIUS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_AQUARIUS_CODE)}(e,i);case J.SYMBOL_PISCES:return function(t,e){return J.SVGText(t,e,J.SYMBOL_PISCES_CODE)}(e,i);case J.SYMBOL_SUN:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SUN_CODE)}(e,i);case J.SYMBOL_MOON:return function(t,e){return J.SVGText(t,e,J.SYMBOL_MOON_CODE)}(e,i);case J.SYMBOL_MERCURY:return function(t,e){return J.SVGText(t,e,J.SYMBOL_MERCURY_CODE)}(e,i);case J.SYMBOL_VENUS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_VENUS_CODE)}(e,i);case J.SYMBOL_EARTH:return function(t,e){return J.SVGText(t,e,J.SYMBOL_EARTH_CODE)}(e,i);case J.SYMBOL_MARS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_MARS_CODE)}(e,i);case J.SYMBOL_JUPITER:return function(t,e){return J.SVGText(t,e,J.SYMBOL_JUPITER_CODE)}(e,i);case J.SYMBOL_SATURN:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SATURN_CODE)}(e,i);case J.SYMBOL_URANUS:return function(t,e){return J.SVGText(t,e,J.SYMBOL_URANUS_CODE)}(e,i);case J.SYMBOL_NEPTUNE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_NEPTUNE_CODE)}(e,i);case J.SYMBOL_PLUTO:return function(t,e){return J.SVGText(t,e,J.SYMBOL_PLUTO_CODE)}(e,i);case J.SYMBOL_CHIRON:return function(t,e){return J.SVGText(t,e,J.SYMBOL_CHIRON_CODE)}(e,i);case J.SYMBOL_LILITH:return function(t,e){return J.SVGText(t,e,J.SYMBOL_LILITH_CODE)}(e,i);case J.SYMBOL_NNODE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_NNODE_CODE)}(e,i);case J.SYMBOL_SNODE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SNODE_CODE)}(e,i);case J.SYMBOL_RETROGRADE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_RETROGRADE_CODE)}(e,i);case J.SYMBOL_CONJUNCTION:return function(t,e){return J.SVGText(t,e,J.SYMBOL_CONJUNCTION_CODE)}(e,i);case J.SYMBOL_OPPOSITION:return function(t,e){return J.SVGText(t,e,J.SYMBOL_OPPOSITION_CODE)}(e,i);case J.SYMBOL_SQUARE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SQUARE_CODE)}(e,i);case J.SYMBOL_TRINE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_TRINE_CODE)}(e,i);case J.SYMBOL_SEXTILE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SEXTILE_CODE)}(e,i);case J.SYMBOL_QUINCUNX:return function(t,e){return J.SVGText(t,e,J.SYMBOL_QUINCUNX_CODE)}(e,i);case J.SYMBOL_SEMISEXTILE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_SEMISEXTILE_CODE)}(e,i);case J.SYMBOL_OCTILE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_OCTILE_CODE)}(e,i);case J.SYMBOL_TRIOCTILE:return function(t,e){return J.SVGText(t,e,J.SYMBOL_TRIOCTILE_CODE)}(e,i);default:const t=J.SVGCircle(e,i,8);return t.setAttribute("stroke","#333"),t}}}function q(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}$(J,"SVG_NAMESPACE","http://www.w3.org/2000/svg"),$(J,"SYMBOL_ARIES","Aries"),$(J,"SYMBOL_TAURUS","Taurus"),$(J,"SYMBOL_GEMINI","Gemini"),$(J,"SYMBOL_CANCER","Cancer"),$(J,"SYMBOL_LEO","Leo"),$(J,"SYMBOL_VIRGO","Virgo"),$(J,"SYMBOL_LIBRA","Libra"),$(J,"SYMBOL_SCORPIO","Scorpio"),$(J,"SYMBOL_SAGITTARIUS","Sagittarius"),$(J,"SYMBOL_CAPRICORN","Capricorn"),$(J,"SYMBOL_AQUARIUS","Aquarius"),$(J,"SYMBOL_PISCES","Pisces"),$(J,"SYMBOL_SUN","Sun"),$(J,"SYMBOL_MOON","Moon"),$(J,"SYMBOL_MERCURY","Mercury"),$(J,"SYMBOL_VENUS","Venus"),$(J,"SYMBOL_EARTH","Earth"),$(J,"SYMBOL_MARS","Mars"),$(J,"SYMBOL_JUPITER","Jupiter"),$(J,"SYMBOL_SATURN","Saturn"),$(J,"SYMBOL_URANUS","Uranus"),$(J,"SYMBOL_NEPTUNE","Neptune"),$(J,"SYMBOL_PLUTO","Pluto"),$(J,"SYMBOL_CHIRON","Chiron"),$(J,"SYMBOL_LILITH","Lilith"),$(J,"SYMBOL_NNODE","NNode"),$(J,"SYMBOL_SNODE","SNode"),$(J,"SYMBOL_AS","As"),$(J,"SYMBOL_DS","Ds"),$(J,"SYMBOL_MC","Mc"),$(J,"SYMBOL_IC","Ic"),$(J,"SYMBOL_RETROGRADE","Retrograde"),$(J,"SYMBOL_CONJUNCTION","Conjunction"),$(J,"SYMBOL_OPPOSITION","Opposition"),$(J,"SYMBOL_SQUARE","Square"),$(J,"SYMBOL_TRINE","Trine"),$(J,"SYMBOL_SEXTILE","Sextile"),$(J,"SYMBOL_QUINCUNX","Quincunx"),$(J,"SYMBOL_SEMISEXTILE","Semisextile"),$(J,"SYMBOL_OCTILE","Octile"),$(J,"SYMBOL_TRIOCTILE","Trioctile"),$(J,"SYMBOL_ARIES_CODE","A"),$(J,"SYMBOL_TAURUS_CODE","B"),$(J,"SYMBOL_GEMINI_CODE","C"),$(J,"SYMBOL_CANCER_CODE","D"),$(J,"SYMBOL_LEO_CODE","E"),$(J,"SYMBOL_VIRGO_CODE","F"),$(J,"SYMBOL_LIBRA_CODE","G"),$(J,"SYMBOL_SCORPIO_CODE","H"),$(J,"SYMBOL_SAGITTARIUS_CODE","I"),$(J,"SYMBOL_CAPRICORN_CODE","J"),$(J,"SYMBOL_AQUARIUS_CODE","K"),$(J,"SYMBOL_PISCES_CODE","L"),$(J,"SYMBOL_SUN_CODE","Q"),$(J,"SYMBOL_MOON_CODE","R"),$(J,"SYMBOL_MERCURY_CODE","S"),$(J,"SYMBOL_VENUS_CODE","T"),$(J,"SYMBOL_EARTH_CODE",">"),$(J,"SYMBOL_MARS_CODE","U"),$(J,"SYMBOL_JUPITER_CODE","V"),$(J,"SYMBOL_SATURN_CODE","W"),$(J,"SYMBOL_URANUS_CODE","X"),$(J,"SYMBOL_NEPTUNE_CODE","Y"),$(J,"SYMBOL_PLUTO_CODE","Z"),$(J,"SYMBOL_CHIRON_CODE","q"),$(J,"SYMBOL_LILITH_CODE","z"),$(J,"SYMBOL_NNODE_CODE","g"),$(J,"SYMBOL_SNODE_CODE","i"),$(J,"SYMBOL_AS_CODE","c"),$(J,"SYMBOL_DS_CODE","f"),$(J,"SYMBOL_MC_CODE","d"),$(J,"SYMBOL_IC_CODE","e"),$(J,"SYMBOL_RETROGRADE_CODE","M"),$(J,"SYMBOL_CONJUNCTION_CODE","!"),$(J,"SYMBOL_OPPOSITION_CODE",'"'),$(J,"SYMBOL_SQUARE_CODE","#"),$(J,"SYMBOL_TRINE_CODE","$"),$(J,"SYMBOL_SEXTILE_CODE","%"),$(J,"SYMBOL_QUINCUNX_CODE","&"),$(J,"SYMBOL_SEMISEXTILE_CODE","''"),$(J,"SYMBOL_OCTILE_CODE","("),$(J,"SYMBOL_TRIOCTILE_CODE",")");class tt{constructor(){if(this instanceof tt)throw Error("This is a static class and cannot be instantiated.")}static positionOnCircle(t,e,i,n){return{x:i*Math.cos(n)+t,y:i*Math.sin(n)+e}}static positionToAngle(t,e,i,n){const s=i-t,r=n-e,a=Math.atan2(r,s);return tt.radianToDegree(a)}static calculatePositionWithoutOverlapping(t,e,i){const n=tt.DEG_360/10,s=new Array(n).fill(0);for(const e of t){s[Math.floor(e.angle/10)]+=1}const r=10*s.findIndex((t=>0==t)),a=t.map((t=>({name:t.name,angle:t.angle<r?t.angle+tt.DEG_360:t.angle})));a.sort(((t,e)=>t.angle-e.angle));const o=()=>{for(let t=0,n=a.length;t<n;t++){const n=tt.positionOnCircle(0,0,i,tt.degreeToRadian(a[t].angle));a[t].x=n.x,a[t].y=n.y;for(let i=0;i<t;i++){Math.sqrt(Math.pow(a[t].x-a[i].x,2)+Math.pow(a[t].y-a[i].y,2))<2*e&&(a[t].angle+=1,a[i].angle-=1,o())}}};return o(),a.reduce(((t,e,i)=>(t[e.name]=e.angle,t)),{})}static isCollision(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return void 0!==e.find((e=>{let n=e-t>tt.DEG_180?t+tt.DEG_360:t,s=t-e>tt.DEG_180?e+tt.DEG_360:e;return Math.abs(n-s)<=i}))}static cleanUp(t,e){let i=document.getElementById(t);i&&("function"==typeof e&&e(),i.innerHTML="")}}q(tt,"DEG_360",360),q(tt,"DEG_180",180),q(tt,"DEG_0",0),q(tt,"generateUniqueId",(function(){return`id_${1e6*Math.random()}_${Date.now()}`})),q(tt,"degreeToRadian",(function(t){return((arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)-t)*Math.PI/180})),q(tt,"radianToDegree",(function(t){return 180*t/Math.PI}));class et{constructor(){if(this instanceof et)throw Error("This is a static class and cannot be instantiated.")}static orb(t,e,i){let n,s=t>e?1:-1,r=Math.abs(t-e);return r>tt.DEG_180?(r=tt.DEG_360-r,n=-1*(r-i)):n=(r-i)*s,Number(Number(n).toFixed(2))}static getAspects(t,e,i){const n=[];for(const s of t)for(const t of e)for(const e of i){const i=et.orb(s.angle,t.angle,e.angle);Math.abs(i)<=e.orb&&n.push({aspect:e,from:s,to:t,precision:i})}return n}static drawAspects(t,e,i,n){const s=i.CHART_VIEWBOX_WIDTH/2,r=i.CHART_VIEWBOX_HEIGHT/2,a=J.SVGGroup();for(const o of n){const n=tt.positionOnCircle(s,r,t,tt.degreeToRadian(o.from.angle,e)),h=tt.positionOnCircle(s,r,t,tt.degreeToRadian(o.to.angle,e)),u=(n.x+h.x)/2,S=(n.y+h.y)/2,O=J.SVGSymbol(o.aspect.name,u,S);O.setAttribute("font-family",i.CHART_FONT_FAMILY),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","middle"),O.setAttribute("font-size",i.ASPECTS_FONT_SIZE),O.setAttribute("fill",i.ASPECT_COLORS[o.aspect.name]??"#333");const l=n.x+(h.x-n.x)/2.2,c=n.y+(h.y-n.y)/2.2,_=h.x+(n.x-h.x)/2.2,C=h.y+(n.y-h.y)/2.2,d=J.SVGLine(n.x,n.y,l,c);d.setAttribute("stroke",i.ASPECT_COLORS[o.aspect.name]??"#333"),d.setAttribute("stroke-width",i.CHART_STROKE);const A=J.SVGLine(_,C,h.x,h.y);A.setAttribute("stroke",i.ASPECT_COLORS[o.aspect.name]??"#333"),A.setAttribute("stroke-width",i.CHART_STROKE),a.appendChild(d),a.appendChild(A),a.appendChild(O)}return a}}class it{constructor(t){}validateData(t){if(!t)throw new Error("Mising param data.");if(!Array.isArray(t.points))return{isValid:!1,message:"points is not Array."};if(!Array.isArray(t.cusps))return{isValid:!1,message:"cups is not Array."};if(12!==t.cusps.length)return{isValid:!1,message:"cusps.length !== 12"};for(let e of t.points){if("string"!=typeof e.name)return{isValid:!1,message:"point.name !== 'string'"};if(0===e.name.length)return{isValid:!1,message:"point.name.length == 0"};if("number"!=typeof e.angle)return{isValid:!1,message:"point.angle !== 'number'"}}for(let e of t.cusps)if("number"!=typeof e.angle)return{isValid:!1,message:"cusp.angle !== 'number'"};return{isValid:!0,message:""}}setData(t){throw new Error("Must be implemented by subclass.")}getPoints(){throw new Error("Must be implemented by subclass.")}getPoint(t){throw new Error("Must be implemented by subclass.")}animateTo(t){throw new Error("Must be implemented by subclass.")}}function nt(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function st(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,at(t,e,"get"))}function rt(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,at(t,e,"set"),i),i}function at(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var ot=new WeakMap,ht=new WeakMap,ut=new WeakMap,St=new WeakMap,Ot=new WeakMap;class lt{constructor(t,e,i){if(nt(this,ot,{writable:!0,value:void 0}),nt(this,ht,{writable:!0,value:void 0}),nt(this,ut,{writable:!0,value:void 0}),nt(this,St,{writable:!0,value:void 0}),nt(this,Ot,{writable:!0,value:void 0}),rt(this,ot,t.name??"Unknown"),rt(this,ht,t.angle??0),rt(this,ut,t.isRetrograde??!1),!Array.isArray(e)||12!=e.length)throw new Error("Bad param cusps. ");if(rt(this,St,e),!i)throw new Error("Bad param settings.");rt(this,Ot,i)}getName(){return st(this,ot)}isRetrograde(){return st(this,ut)}getAngle(){return st(this,ht)}getSymbol(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=J.SVGGroup(),r=J.SVGSymbol(st(this,ot),t,e);if(s.appendChild(r),0==n)return s;const a=st(this,Ot).CHART_VIEWBOX_WIDTH/2,o=st(this,Ot).CHART_VIEWBOX_HEIGHT/2,h=tt.positionToAngle(t,e,a,o);return function(){const n=tt.positionOnCircle(t,e,2*st(this,Ot).POINT_COLLISION_RADIUS,tt.degreeToRadian(-h,i)),r=[];r.push(this.getAngleInSign()),st(this,ut)&&r.push(J.SYMBOL_RETROGRADE_CODE);const a=J.SVGText(n.x,n.y,r.join(" "));a.setAttribute("font-family",st(this,Ot).CHART_FONT_FAMILY),a.setAttribute("text-anchor","middle"),a.setAttribute("dominant-baseline","middle"),a.setAttribute("font-size",st(this,Ot).POINT_PROPERTIES_FONT_SIZE),a.setAttribute("fill",st(this,Ot).POINT_PROPERTIES_COLOR),s.appendChild(a)}.call(this),this.getDignity()&&function(){const n=tt.positionOnCircle(t,e,3*st(this,Ot).POINT_COLLISION_RADIUS,tt.degreeToRadian(-h,i)),r=J.SVGText(n.x,n.y,this.getDignity());r.setAttribute("font-family","sans-serif"),r.setAttribute("text-anchor","middle"),r.setAttribute("dominant-baseline","text-bottom"),r.setAttribute("font-size",st(this,Ot).POINT_PROPERTIES_FONT_SIZE/1.2),r.setAttribute("fill",st(this,Ot).POINT_PROPERTIES_COLOR),s.appendChild(r)}.call(this),s}getHouseNumber(){throw new Error("Not implemented yet.")}getSignNumber(){let t=st(this,ht)%tt.DEG_360;return Math.floor(t/30+1)}getAngleInSign(){return Math.round(st(this,ht)%30)}getDignity(){const t="r",e="d",i="f",n="e";switch(st(this,ot)){case J.SYMBOL_SUN:return 5==this.getSignNumber()?t:11==this.getSignNumber()?e:6==this.getSignNumber()?i:1==this.getSignNumber()?n:"";case J.SYMBOL_MOON:return 4==this.getSignNumber()?t:10==this.getSignNumber()?e:8==this.getSignNumber()?i:2==this.getSignNumber()?n:"";case J.SYMBOL_MERCURY:return 3==this.getSignNumber()?t:9==this.getSignNumber()?e:12==this.getSignNumber()?i:6==this.getSignNumber()?n:"";case J.SYMBOL_VENUS:return 2==this.getSignNumber()||7==this.getSignNumber()?t:1==this.getSignNumber()||8==this.getSignNumber()?e:6==this.getSignNumber()?i:12==this.getSignNumber()?n:"";case J.SYMBOL_MARS:return 1==this.getSignNumber()||8==this.getSignNumber()?t:2==this.getSignNumber()||7==this.getSignNumber()?e:4==this.getSignNumber()?i:10==this.getSignNumber()?n:"";case J.SYMBOL_JUPITER:return 9==this.getSignNumber()||12==this.getSignNumber()?t:3==this.getSignNumber()||6==this.getSignNumber()?e:10==this.getSignNumber()?i:4==this.getSignNumber()?n:"";case J.SYMBOL_SATURN:return 10==this.getSignNumber()||11==this.getSignNumber()?t:4==this.getSignNumber()||5==this.getSignNumber()?e:1==this.getSignNumber()?i:7==this.getSignNumber()?n:"";case J.SYMBOL_URANUS:return 11==this.getSignNumber()?t:5==this.getSignNumber()?e:2==this.getSignNumber()?i:8==this.getSignNumber()?n:"";case J.SYMBOL_NEPTUNE:return 12==this.getSignNumber()?t:6==this.getSignNumber()?e:3==this.getSignNumber()||11==this.getSignNumber()?i:9==this.getSignNumber()||5==this.getSignNumber()?n:"";case J.SYMBOL_PLUTO:return 8==this.getSignNumber()?t:2==this.getSignNumber()?e:7==this.getSignNumber()?i:1==this.getSignNumber()?n:"";default:return""}}}function ct(t,e){Ct(t,e),e.add(t)}function _t(t,e,i){Ct(t,e),e.set(t,i)}function Ct(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function At(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,gt(t,e,"get"))}function Rt(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,gt(t,e,"set"),i),i}function gt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var Et=new WeakMap,Tt=new WeakMap,Lt=new WeakMap,pt=new WeakMap,It=new WeakMap,Mt=new WeakMap,ft=new WeakMap,bt=new WeakMap,mt=new WeakMap,Nt=new WeakSet,Bt=new WeakSet,Yt=new WeakSet,wt=new WeakSet,Dt=new WeakSet,Gt=new WeakSet,Vt=new WeakSet,yt=new WeakSet;class Pt extends it{constructor(t){if(!t instanceof ye)throw new Error("Bad param universe.");return super(t.getSettings()),ct(this,yt),ct(this,Vt),ct(this,Gt),ct(this,Dt),ct(this,wt),ct(this,Yt),ct(this,Bt),ct(this,Nt),_t(this,Et,{writable:!0,value:24}),_t(this,Tt,{writable:!0,value:void 0}),_t(this,Lt,{writable:!0,value:void 0}),_t(this,pt,{writable:!0,value:void 0}),_t(this,It,{writable:!0,value:void 0}),_t(this,Mt,{writable:!0,value:void 0}),_t(this,ft,{writable:!0,value:void 0}),_t(this,bt,{writable:!0,value:void 0}),_t(this,mt,{writable:!0,value:void 0}),Rt(this,Tt,t),Rt(this,Lt,At(this,Tt).getSettings()),Rt(this,Mt,At(this,Lt).CHART_VIEWBOX_WIDTH/2),Rt(this,ft,At(this,Lt).CHART_VIEWBOX_HEIGHT/2),Rt(this,bt,Math.min(At(this,Mt),At(this,ft))-At(this,Lt).CHART_PADDING),Rt(this,pt,J.SVGGroup()),At(this,pt).setAttribute("id",`${At(this,Lt).HTML_ELEMENT_ID}-${At(this,Lt).RADIX_ID}`),At(this,Tt).getSVGDocument().appendChild(At(this,pt)),this}setData(t){let e=this.validateData(t);if(!e.isValid)throw new Error(e.messages);return Rt(this,It,t),dt(this,Nt,vt).call(this,t),this}getData(){return{points:[...At(this,It).points],cusps:[...At(this,It).cusps]}}setNumberOfLevels(t){return Rt(this,Et,Math.max(24,t)),At(this,It)&&dt(this,Nt,vt).call(this,At(this,It)),this}getRadius(){return At(this,bt)}getOuterCircleRadius(){return this.getRadius()/At(this,Et)*24}getInnerCircleRadius(){return this.getRadius()/At(this,Et)*21}getRullerCircleRadius(){return this.getRadius()/At(this,Et)*20}getPointCircleRadius(){return this.getRadius()/At(this,Et)*18}getCenterCircleRadius(){return this.getRadius()/At(this,Et)*12}getUniverse(){return At(this,Tt)}getAscendantShift(){return(At(this,It)?.cusps[0]?.angle??0)+tt.DEG_180}getAspects(t,e,i){if(At(this,It))return t=t??At(this,It).points,e=e??[...At(this,It).points,{name:"AS",angle:0},{name:"IC",angle:At(this,It).cusps.at(3)},{name:"DS",angle:180},{name:"MC",angle:At(this,It).cusps.at(9)}],i=i??z.DEFAULT_ASPECTS,et.getAspects(t,e,i).filter((t=>t.from.name!=t.to.name))}drawAspects(t,e,i){const n=At(this,Tt).getAspectsElement();tt.cleanUp(n.getAttribute("id"),At(this,mt));const s=this.getAspects(t,e,i).reduce(((t,e)=>(t.some((t=>t.from.name==e.to.name&&t.to.name==e.from.name))||t.push(e),t)),[]).filter((t=>"Conjunction"!=t.aspect.name));return n.appendChild(et.drawAspects(this.getCenterCircleRadius(),this.getAscendantShift(),At(this,Lt),s)),this}}function vt(t){tt.cleanUp(At(this,pt).getAttribute("id"),At(this,mt)),dt(this,Bt,xt).call(this),dt(this,Yt,Ut).call(this),dt(this,wt,Ht).call(this),dt(this,Dt,kt).call(this,t),dt(this,Gt,Wt).call(this,t),dt(this,Vt,Ft).call(this,t),dt(this,yt,Xt).call(this),At(this,Lt).DRAW_ASPECTS&&this.drawAspects()}function xt(){const t=`${At(this,Lt).HTML_ELEMENT_ID}-${At(this,Lt).RADIX_ID}-background-mask-1`,e=J.SVGGroup(),i=J.SVGMask(t),n=J.SVGCircle(At(this,Mt),At(this,ft),this.getRadius());n.setAttribute("fill","white"),i.appendChild(n);const s=J.SVGCircle(At(this,Mt),At(this,ft),this.getCenterCircleRadius());s.setAttribute("fill","black"),i.appendChild(s),e.appendChild(i);const r=J.SVGCircle(At(this,Mt),At(this,ft),this.getRadius());r.setAttribute("fill",At(this,Lt).CHART_STROKE_ONLY?"none":At(this,Lt).CHART_BACKGROUND_COLOR),r.setAttribute("mask",At(this,Lt).CHART_STROKE_ONLY?"none":`url(#${t})`),e.appendChild(r),At(this,pt).appendChild(e)}function Ut(){const t=[At(this,Lt).COLOR_ARIES,At(this,Lt).COLOR_TAURUS,At(this,Lt).COLOR_GEMINI,At(this,Lt).COLOR_CANCER,At(this,Lt).COLOR_LEO,At(this,Lt).COLOR_VIRGO,At(this,Lt).COLOR_LIBRA,At(this,Lt).COLOR_SCORPIO,At(this,Lt).COLOR_SAGITTARIUS,At(this,Lt).COLOR_CAPRICORN,At(this,Lt).COLOR_AQUARIUS,At(this,Lt).COLOR_PISCES],e=[J.SYMBOL_ARIES,J.SYMBOL_TAURUS,J.SYMBOL_GEMINI,J.SYMBOL_CANCER,J.SYMBOL_LEO,J.SYMBOL_VIRGO,J.SYMBOL_LIBRA,J.SYMBOL_SCORPIO,J.SYMBOL_SAGITTARIUS,J.SYMBOL_CAPRICORN,J.SYMBOL_AQUARIUS,J.SYMBOL_PISCES],i=(t,i)=>{let n=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getOuterCircleRadius()-(this.getOuterCircleRadius()-this.getInnerCircleRadius())/2,tt.degreeToRadian(i+15,this.getAscendantShift())),s=J.SVGSymbol(e[t],n.x,n.y);return s.setAttribute("font-family",At(this,Lt).CHART_FONT_FAMILY),s.setAttribute("text-anchor","middle"),s.setAttribute("dominant-baseline","middle"),s.setAttribute("font-size",At(this,Lt).RADIX_SIGNS_FONT_SIZE),s.setAttribute("fill",At(this,Lt).CHART_SIGNS_COLOR),s},n=(e,i,n)=>{let s=tt.degreeToRadian(i,this.getAscendantShift()),r=tt.degreeToRadian(n,this.getAscendantShift()),a=J.SVGSegment(At(this,Mt),At(this,ft),this.getOuterCircleRadius(),s,r,this.getInnerCircleRadius());return a.setAttribute("fill",At(this,Lt).CHART_STROKE_ONLY?"none":t[e]),a.setAttribute("stroke",At(this,Lt).CHART_STROKE_ONLY?At(this,Lt).CIRCLE_COLOR:"none"),a.setAttribute("stroke-width",At(this,Lt).CHART_STROKE_ONLY?At(this,Lt).CHART_STROKE:0),a};let s=0,r=s+30;const a=J.SVGGroup();for(let t=0;t<12;t++){let e=n(t,s,r);a.appendChild(e);let o=i(t,s);a.appendChild(o),s+=30,r=s+30}At(this,pt).appendChild(a)}function Ht(){const t=J.SVGGroup();let e=this.getAscendantShift();for(let i=0;i<72;i++){let n=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getRullerCircleRadius(),tt.degreeToRadian(e)),s=tt.positionOnCircle(At(this,Mt),At(this,ft),i%2?this.getInnerCircleRadius()-(this.getInnerCircleRadius()-this.getRullerCircleRadius())/2:this.getInnerCircleRadius(),tt.degreeToRadian(e));const r=J.SVGLine(n.x,n.y,s.x,s.y);r.setAttribute("stroke",At(this,Lt).CHART_LINE_COLOR),r.setAttribute("stroke-width",At(this,Lt).CHART_STROKE),t.appendChild(r),e+=5}const i=J.SVGCircle(At(this,Mt),At(this,ft),this.getRullerCircleRadius());i.setAttribute("stroke",At(this,Lt).CHART_CIRCLE_COLOR),i.setAttribute("stroke-width",At(this,Lt).CHART_STROKE),t.appendChild(i),At(this,pt).appendChild(t)}function kt(t){const e=t.points,i=t.cusps,n=J.SVGGroup(),s=tt.calculatePositionWithoutOverlapping(e,At(this,Lt).POINT_COLLISION_RADIUS,this.getPointCircleRadius());for(const t of e){const e=new lt(t,i,At(this,Lt)),r=tt.positionOnCircle(At(this,Mt),At(this,Mt),this.getRullerCircleRadius()-(this.getInnerCircleRadius()-this.getRullerCircleRadius())/4,tt.degreeToRadian(e.getAngle(),this.getAscendantShift())),a=tt.positionOnCircle(At(this,Mt),At(this,Mt),this.getPointCircleRadius(),tt.degreeToRadian(s[e.getName()],this.getAscendantShift())),o=tt.positionOnCircle(At(this,Mt),At(this,Mt),this.getRullerCircleRadius(),tt.degreeToRadian(e.getAngle(),this.getAscendantShift())),h=J.SVGLine(r.x,r.y,o.x,o.y);h.setAttribute("stroke",At(this,Lt).CHART_LINE_COLOR),h.setAttribute("stroke-width",At(this,Lt).CHART_STROKE),n.appendChild(h);const u=e.getSymbol(a.x,a.y,tt.DEG_0,At(this,Lt).POINT_PROPERTIES_SHOW);u.setAttribute("font-family",At(this,Lt).CHART_FONT_FAMILY),u.setAttribute("text-anchor","middle"),u.setAttribute("dominant-baseline","middle"),u.setAttribute("font-size",At(this,Lt).RADIX_POINTS_FONT_SIZE),u.setAttribute("fill",At(this,Lt).CHART_POINTS_COLOR),n.appendChild(u);const S=tt.positionOnCircle(At(this,Mt),At(this,Mt),this.getPointCircleRadius(),tt.degreeToRadian(s[e.getName()],this.getAscendantShift())),O=J.SVGLine(r.x,r.y,(r.x+S.x)/2,(r.y+S.y)/2);O.setAttribute("stroke",At(this,Lt).CHART_LINE_COLOR),O.setAttribute("stroke-width",At(this,Lt).CHART_STROKE/2),n.appendChild(O)}At(this,pt).appendChild(n)}function Wt(t){const e=t.points,i=t.cusps,n=[0,3,6,9],s=e.map((t=>t.angle)),r=J.SVGGroup(),a=this.getCenterCircleRadius()+(this.getInnerCircleRadius()-this.getCenterCircleRadius())/10;for(let t=0;t<i.length;t++){const e=tt.isCollision(i[t].angle,s,At(this,Lt).POINT_COLLISION_RADIUS/2),o=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getCenterCircleRadius(),tt.degreeToRadian(i[t].angle,this.getAscendantShift())),h=tt.positionOnCircle(At(this,Mt),At(this,ft),e?this.getCenterCircleRadius()+(this.getRullerCircleRadius()-this.getCenterCircleRadius())/6:this.getRullerCircleRadius(),tt.degreeToRadian(i[t].angle,this.getAscendantShift())),u=J.SVGLine(o.x,o.y,h.x,h.y);u.setAttribute("stroke",n.includes(t)?At(this,Lt).CHART_MAIN_AXIS_COLOR:At(this,Lt).CHART_LINE_COLOR),u.setAttribute("stroke-width",n.includes(t)?At(this,Lt).CHART_MAIN_STROKE:At(this,Lt).CHART_STROKE),r.appendChild(u);const S=i[t].angle,O=i[(t+1)%12].angle,l=S+(O-S>0?O-S:O-S+tt.DEG_360)/2,c=tt.positionOnCircle(At(this,Mt),At(this,ft),a,tt.degreeToRadian(l,this.getAscendantShift())),_=J.SVGText(c.x,c.y,`${t+1}`);_.setAttribute("text-anchor","middle"),_.setAttribute("dominant-baseline","middle"),_.setAttribute("font-size",At(this,Lt).RADIX_POINTS_FONT_SIZE/2),_.setAttribute("fill",At(this,Lt).CHART_TEXT_COLOR),r.appendChild(_)}At(this,pt).appendChild(r)}function Ft(t){const e=t.cusps,i=[{name:J.SYMBOL_AS,angle:e[0].angle},{name:J.SYMBOL_IC,angle:e[3].angle},{name:J.SYMBOL_DS,angle:e[6].angle},{name:J.SYMBOL_MC,angle:e[9].angle}],n=J.SVGGroup();for(const t of i){let e=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getRadius(),tt.degreeToRadian(t.angle,this.getAscendantShift())),i=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getRadius()+10,tt.degreeToRadian(t.angle,this.getAscendantShift())),s=J.SVGLine(e.x,e.y,i.x,i.y);s.setAttribute("stroke",At(this,Lt).CHART_MAIN_AXIS_COLOR),s.setAttribute("stroke-width",At(this,Lt).CHART_MAIN_STROKE),n.appendChild(s);let r,a=tt.positionOnCircle(At(this,Mt),At(this,ft),this.getRadius()+10,tt.degreeToRadian(t.angle,this.getAscendantShift())),o=0,h=0;const u=2;switch(t.name){case"As":o-=u,h-=u,r=J.SVGSymbol(t.name,a.x+o,a.y+h),r.setAttribute("text-anchor","end"),r.setAttribute("dominant-baseline","middle");break;case"Ds":o+=u,h-=u,r=J.SVGSymbol(t.name,a.x+o,a.y+h),r.setAttribute("text-anchor","start"),r.setAttribute("dominant-baseline","middle");break;case"Mc":h-=u,r=J.SVGSymbol(t.name,a.x+o,a.y+h),r.setAttribute("text-anchor","middle"),r.setAttribute("dominant-baseline","text-top");break;case"Ic":h+=u,r=J.SVGSymbol(t.name,a.x+o,a.y+h),r.setAttribute("text-anchor","middle"),r.setAttribute("dominant-baseline","hanging");break;default:throw console.error(t.name),new Error("Unknown axis name.")}r.setAttribute("font-family",At(this,Lt).CHART_FONT_FAMILY),r.setAttribute("font-size",At(this,Lt).RADIX_AXIS_FONT_SIZE),r.setAttribute("fill",At(this,Lt).CHART_MAIN_AXIS_COLOR),n.appendChild(r)}At(this,pt).appendChild(n)}function Xt(){const t=J.SVGGroup(),e=J.SVGCircle(At(this,Mt),At(this,ft),this.getOuterCircleRadius());e.setAttribute("stroke",At(this,Lt).CHART_CIRCLE_COLOR),e.setAttribute("stroke-width",At(this,Lt).CHART_MAIN_STROKE),t.appendChild(e);const i=J.SVGCircle(At(this,Mt),At(this,ft),this.getInnerCircleRadius());i.setAttribute("stroke",At(this,Lt).CHART_CIRCLE_COLOR),i.setAttribute("stroke-width",At(this,Lt).CHART_MAIN_STROKE),t.appendChild(i);const n=J.SVGCircle(At(this,Mt),At(this,ft),this.getCenterCircleRadius());n.setAttribute("stroke",At(this,Lt).CHART_CIRCLE_COLOR),n.setAttribute("stroke-width",At(this,Lt).CHART_MAIN_STROKE),t.appendChild(n),At(this,pt).appendChild(t)}function Kt(t,e){Qt(t,e),e.add(t)}function jt(t,e,i){Qt(t,e),e.set(t,i)}function Qt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function zt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Jt(t,e,"get"))}function $t(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Jt(t,e,"set"),i),i}function Jt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var qt=new WeakMap,te=new WeakMap,ee=new WeakMap,ie=new WeakMap,ne=new WeakMap,se=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,he=new WeakSet,ue=new WeakSet,Se=new WeakSet,Oe=new WeakSet,le=new WeakSet,ce=new WeakSet,_e=new WeakSet,Ce=new WeakSet;class de extends it{constructor(t){if(!(t instanceof Pt))throw new Error("Bad param radix.");return super(t.getUniverse().getSettings()),Kt(this,Ce),Kt(this,_e),Kt(this,ce),Kt(this,le),Kt(this,Oe),Kt(this,Se),Kt(this,ue),Kt(this,he),jt(this,qt,{writable:!0,value:32}),jt(this,te,{writable:!0,value:void 0}),jt(this,ee,{writable:!0,value:void 0}),jt(this,ie,{writable:!0,value:void 0}),jt(this,ne,{writable:!0,value:void 0}),jt(this,se,{writable:!0,value:void 0}),jt(this,re,{writable:!0,value:void 0}),jt(this,ae,{writable:!0,value:void 0}),jt(this,oe,{writable:!0,value:void 0}),$t(this,te,t),$t(this,ee,zt(this,te).getUniverse().getSettings()),$t(this,se,zt(this,ee).CHART_VIEWBOX_WIDTH/2),$t(this,re,zt(this,ee).CHART_VIEWBOX_HEIGHT/2),$t(this,ae,Math.min(zt(this,se),zt(this,re))-zt(this,ee).CHART_PADDING),$t(this,ie,J.SVGGroup()),zt(this,ie).setAttribute("id",`${zt(this,ee).HTML_ELEMENT_ID}-${zt(this,ee).TRANSIT_ID}`),zt(this,te).getUniverse().getSVGDocument().appendChild(zt(this,ie)),this}setData(t){let e=this.validateData(t);if(!e.isValid)throw new Error(e.messages);return $t(this,ne,t),Zt(this,he,Ae).call(this,t),this}getData(){return{points:[...zt(this,ne).points],cusps:[...zt(this,ne).cusps]}}getRadius(){return zt(this,ae)}getAspects(t,e,i){if(zt(this,ne))return t=t??zt(this,ne).points,e=e??[...zt(this,te).getData().points,{name:"AS",angle:0},{name:"IC",angle:zt(this,te).getData().cusps.at(3)},{name:"DS",angle:180},{name:"MC",angle:zt(this,te).getData().cusps.at(9)}],i=i??z.DEFAULT_ASPECTS,et.getAspects(t,e,i)}drawAspects(t,e,i){const n=zt(this,te).getUniverse().getAspectsElement();tt.cleanUp(n.getAttribute("id"),zt(this,oe));const s=this.getAspects(t,e,i).filter((t=>"Conjunction"!=t.aspect.name));return n.appendChild(et.drawAspects(zt(this,te).getCenterCircleRadius(),zt(this,te).getAscendantShift(),zt(this,ee),s)),this}}function Ae(t){tt.cleanUp(zt(this,ie).getAttribute("id"),zt(this,oe)),zt(this,te).setNumberOfLevels(zt(this,qt)),Zt(this,ue,Re).call(this),Zt(this,Oe,Ee).call(this,t),Zt(this,Se,ge).call(this,t),Zt(this,le,Te).call(this),zt(this,ee).DRAW_ASPECTS&&this.drawAspects()}function Re(){const t=J.SVGGroup();let e=zt(this,te).getAscendantShift();for(let i=0;i<72;i++){let n=tt.positionOnCircle(zt(this,se),zt(this,re),Zt(this,_e,pe).call(this),tt.degreeToRadian(e)),s=tt.positionOnCircle(zt(this,se),zt(this,re),i%2?this.getRadius()-(this.getRadius()-Zt(this,_e,pe).call(this))/2:this.getRadius(),tt.degreeToRadian(e));const r=J.SVGLine(n.x,n.y,s.x,s.y);r.setAttribute("stroke",zt(this,ee).CHART_LINE_COLOR),r.setAttribute("stroke-width",zt(this,ee).CHART_STROKE),t.appendChild(r),e+=5}const i=J.SVGCircle(zt(this,se),zt(this,re),Zt(this,_e,pe).call(this));i.setAttribute("stroke",zt(this,ee).CHART_CIRCLE_COLOR),i.setAttribute("stroke-width",zt(this,ee).CHART_STROKE),t.appendChild(i),zt(this,ie).appendChild(t)}function ge(t){const e=t.points,i=t.cusps,n=J.SVGGroup(),s=tt.calculatePositionWithoutOverlapping(e,zt(this,ee).POINT_COLLISION_RADIUS,Zt(this,ce,Le).call(this));for(const t of e){const e=new lt(t,i,zt(this,ee)),r=tt.positionOnCircle(zt(this,se),zt(this,se),Zt(this,_e,pe).call(this)-(this.getRadius()-Zt(this,_e,pe).call(this))/4,tt.degreeToRadian(e.getAngle(),zt(this,te).getAscendantShift())),a=tt.positionOnCircle(zt(this,se),zt(this,se),Zt(this,ce,Le).call(this),tt.degreeToRadian(s[e.getName()],zt(this,te).getAscendantShift())),o=tt.positionOnCircle(zt(this,se),zt(this,se),Zt(this,_e,pe).call(this),tt.degreeToRadian(e.getAngle(),zt(this,te).getAscendantShift())),h=J.SVGLine(r.x,r.y,o.x,o.y);h.setAttribute("stroke",zt(this,ee).CHART_LINE_COLOR),h.setAttribute("stroke-width",zt(this,ee).CHART_STROKE),n.appendChild(h);const u=e.getSymbol(a.x,a.y,tt.DEG_0,zt(this,ee).POINT_PROPERTIES_SHOW);u.setAttribute("font-family",zt(this,ee).CHART_FONT_FAMILY),u.setAttribute("text-anchor","middle"),u.setAttribute("dominant-baseline","middle"),u.setAttribute("font-size",zt(this,ee).TRANSIT_POINTS_FONT_SIZE),u.setAttribute("fill",zt(this,ee).CHART_POINTS_COLOR),n.appendChild(u);const S=tt.positionOnCircle(zt(this,se),zt(this,se),Zt(this,ce,Le).call(this),tt.degreeToRadian(s[e.getName()],zt(this,te).getAscendantShift())),O=J.SVGLine(r.x,r.y,(r.x+S.x)/2,(r.y+S.y)/2);O.setAttribute("stroke",zt(this,ee).CHART_LINE_COLOR),O.setAttribute("stroke-width",zt(this,ee).CHART_STROKE/2),n.appendChild(O)}zt(this,ie).appendChild(n)}function Ee(t){const e=t.points,i=t.cusps,n=e.map((t=>t.angle)),s=J.SVGGroup(),r=Zt(this,Ce,Ie).call(this)+(Zt(this,_e,pe).call(this)-Zt(this,Ce,Ie).call(this))/6;for(let t=0;t<i.length;t++){const e=tt.isCollision(i[t].angle,n,zt(this,ee).POINT_COLLISION_RADIUS/2),a=tt.positionOnCircle(zt(this,se),zt(this,re),Zt(this,Ce,Ie).call(this),tt.degreeToRadian(i[t].angle,zt(this,te).getAscendantShift())),o=tt.positionOnCircle(zt(this,se),zt(this,re),e?Zt(this,Ce,Ie).call(this)+(Zt(this,_e,pe).call(this)-Zt(this,Ce,Ie).call(this))/6:Zt(this,_e,pe).call(this),tt.degreeToRadian(i[t].angle,zt(this,te).getAscendantShift())),h=J.SVGLine(a.x,a.y,o.x,o.y);h.setAttribute("stroke",zt(this,ee).CHART_LINE_COLOR),h.setAttribute("stroke-width",zt(this,ee).CHART_STROKE),s.appendChild(h);const u=i[t].angle,S=i[(t+1)%12].angle,O=u+(S-u>0?S-u:S-u+tt.DEG_360)/2,l=tt.positionOnCircle(zt(this,se),zt(this,re),r,tt.degreeToRadian(O,zt(this,te).getAscendantShift())),c=J.SVGText(l.x,l.y,`${t+1}`);c.setAttribute("text-anchor","middle"),c.setAttribute("dominant-baseline","middle"),c.setAttribute("font-size",zt(this,ee).RADIX_POINTS_FONT_SIZE/2),c.setAttribute("fill",zt(this,ee).CHART_TEXT_COLOR),s.appendChild(c)}zt(this,ie).appendChild(s)}function Te(){const t=J.SVGGroup(),e=J.SVGCircle(zt(this,se),zt(this,re),this.getRadius());e.setAttribute("stroke",zt(this,ee).CHART_CIRCLE_COLOR),e.setAttribute("stroke-width",zt(this,ee).CHART_MAIN_STROKE),t.appendChild(e),zt(this,ie).appendChild(t)}function Le(){return this.getRadius()/zt(this,qt)*29}function pe(){return this.getRadius()/zt(this,qt)*31}function Ie(){return this.getRadius()/zt(this,qt)*24}function Me(t,e,i){fe(t,e),e.set(t,i)}function fe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function be(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ne(t,e,"get"))}function me(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Ne(t,e,"set"),i),i}function Ne(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var Be=new WeakMap,Ye=new WeakMap,we=new WeakMap,De=new WeakMap,Ge=new WeakMap,Ve=new WeakSet;class ye{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n;if(fe(i=this,n=Ve),n.add(i),Me(this,Be,{writable:!0,value:void 0}),Me(this,Ye,{writable:!0,value:void 0}),Me(this,we,{writable:!0,value:void 0}),Me(this,De,{writable:!0,value:void 0}),Me(this,Ge,{writable:!0,value:void 0}),"string"!=typeof t)throw new Error("A required parameter is missing.");if(!document.getElementById(t))throw new Error("Canot find a HTML element with ID "+t);return me(this,Ye,Object.assign({},z,e,{HTML_ELEMENT_ID:t})),me(this,Be,J.SVGDocument(be(this,Ye).CHART_VIEWBOX_WIDTH,be(this,Ye).CHART_VIEWBOX_HEIGHT)),document.getElementById(t).appendChild(be(this,Be)),me(this,Ge,J.SVGGroup()),be(this,Ge).setAttribute("id",`${be(this,Ye).HTML_ELEMENT_ID}-${be(this,Ye).ASPECTS_ID}`),be(this,Be).appendChild(be(this,Ge)),me(this,we,new Pt(this)),me(this,De,new de(be(this,we))),function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,Ve,Pe).call(this,"Astronomicon","../assets/fonts/ttf/AstronomiconFonts_1.1/Astronomicon.ttf"),this}radix(){return be(this,we)}transit(){return be(this,De)}getSettings(){return be(this,Ye)}getSVGDocument(){return be(this,Be)}getAspectsElement(){return be(this,Ge)}}async function Pe(t,e,i){if(!("FontFace"in window))return console.error("Ooops, FontFace is not a function."),void console.error("@see https://developer.mozilla.org/en-US/docs/Web/API/CSS_Font_Loading_API");const n=new FontFace(t,`url(${e})`,i);try{await n.load(),document.fonts.add(n)}catch(t){throw new Error(t)}}return e})()));